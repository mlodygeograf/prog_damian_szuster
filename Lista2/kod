import numpy as np
import string
from PIL import Image
import zipfile
from PyPDF2 import PdfFileReader, PdfFileWriter

#Zadanie 1

def password():
    """
    Funkcja generująca losowe, 8-elementowe hasło.
    
    Produkty programu:
    ------------------
    password - str:
        losowe 8-elementowe hasło
    """
    
    #Lista znaków, za pomocą których możemy utworzyć hasło.
    znaki = list(string.ascii_letters + string.digits + string.punctuation)

    #Pusty string, który finalnie będzie naszym hasłem.
    password = ""

    #Pętla, która wylosuje 8 znaków i połączy je w hasło.
    i = 0
    while i < 8:
        k = np.random.randint(0, len(znaki))
        password += znaki[k]
        i += 1
    return password

#Zadanie 2

def mini(inp, size, outp):
    """
    Funckja tworząca miniaturę obrazu.
    
    Parametry:
    ----------
    inp - str:
        adres obrazu, którego miniaturę chcemy otrzymać
    size - list:
        wektor zawierający długość i szerokość miniatury
    outp - str:
        adres docelowy miniatury
    
    Produkty programu:
    ------------------
    obraz - PIL.JpegImagePlugin.JpegImageFile
        miniatura obrazu
    """
    obraz = Image.open(inp)
    obraz.thumbnail(size)
    obraz.save(outp + ".jpg", "JPEG")
    return obraz

#Zadanie 3

def zipp(catalogue, location=0):
    """
    Funkcja tworząca kopie bezpiczeństwa katalogu i pakująca je do archiwum zip.
    
    Parametry:
    ----------
    catalogue: str:
        adres katalogu, nad którym program będzie pracował
    location: str:
        adres, do którego zostanie przesłane archiwum
    """
    time = datatime.date.today()
    i = 0
    file_name = ""

    #Znajdowanie nazwy katalogu
    while True:
        if catalogue[::-1][i] in '\/':
            break
        file_name += catalogue[::-1][i]
        i += 1

    name = str(date) + ' copy - ' + file_name + '.zip'
    
    if location != 0:
        os.chdir(location)

    #Tworzenie archiwum i przesyłanie kopii plików do niego
    zip_copy = zipfile.ZipFile(name, 'w')
    os.chdir(catalog_name)

    for file in os.listdir():
        zip_copy.write(file)

    zip_copy.close()
    return zip_copy
    
